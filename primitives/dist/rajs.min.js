function clamp(n){if(n<0){return(0);}
if(n>255){return(255);}
return n;}
function yuv2rgb(y,u,v){y=parseInt(y);u=parseInt(u);v=parseInt(v);r=clamp(Math.floor(y+1.4075*v));g=clamp(Math.floor(y-0.3455*u-(0.7169*v)));b=clamp(Math.floor(y+1.7790*u));return({r:r,g:g,b:b});}
function getContrast(hex){var r=parseInt(hex.substr(1,2),16),g=parseInt(hex.substr(3,2),16),b=parseInt(hex.substr(5,2),16),yiq=((r*299)+(g*587)+(b*114))/1000;return(yiq>=128)?'black':'white';}
function shadeColor(hex,lum){hex=String(hex).replace(/[^0-9a-f]/gi,'');if(hex.length<6){hex=hex[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2];}
lum=lum||0;var rgb="#",c,i;for(i=0;i<3;i++){c=parseInt(hex.substr(i*2,2),16);c=Math.round(Math.min(Math.max(0,c+(c*lum)),255)).toString(16);rgb+=("00"+c).substr(c.length);}
return rgb;}
var shades={red:{centre:[-0.55,0.65],radius:0.26},green:{centre:[-0.65,-0.6],radius:0.34},blue:{centre:[0.6,-0.6],radius:0.28},purple:{centre:[0.6,0.6],radius:0.26},grey:{centre:[0,0.1],radius:0.1}};function randomShade(shade){if(typeof shade=="string")
var shade=shades[shade];var y=Math.random()*255;var u=shade.centre[0];var v=shade.centre[1];return yuv2rgb(y,128*u,128*v);}
function compareColors(hex1,hex2){var r1=parseInt(hex1.substring(0,2),16);var g1=parseInt(hex1.substring(2,4),16);var b1=parseInt(hex1.substring(4,6),16);var r2=parseInt(hex2.substring(0,2),16);var g2=parseInt(hex2.substring(2,4),16);var b2=parseInt(hex2.substring(4,6),16);var r=255-Math.abs(r1-r2);var g=255-Math.abs(g1-g2);var b=255-Math.abs(b1-b2);r/=255;g/=255;b/=255;return(r+g+b)/3;}
function toColor(hashable,transparent){if(typeof hashable=="string")
console.error("BEEP")
if(hashable===0)hashable=-2513;var num=hashable*2654435761%Math.pow(2,32);num>>>=0;var b=num&0xFF,g=(num&0xFF00)>>>8,r=(num&0xFF0000)>>>16,a=((num&0xFF000000)>>>24)/255;if(transparent)
return"rgba("+[r,g,b,a].join(",")+")";else
return"rgb("+[r,g,b].join(",")+")";}
function hexToRgb(hex){var result=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);return result?{r:parseInt(result[1],16),g:parseInt(result[2],16),b:parseInt(result[3],16)}:null;}
function componentToHex(c){var hex=c.toString(16);return hex.length==1?"0"+hex:hex;}
function rgbToHex(r,g,b){return"#"+componentToHex(r)+componentToHex(g)+componentToHex(b);}
var Cookie={get:function(name){var value="; "+document.cookie;var parts=value.split("; "+name+"=");if(parts.length==2)return parts.pop().split(";").shift();return null;},set:function(name,value,days){var expires="";if(days){var date=new Date();date.setTime(date.getTime()+(days*24*60*60*1000));expires="; expires="+date.toUTCString();}
document.cookie=name+"="+value+expires+"; path=/";},delete:function(name){this.createCookie(name,"",-1);},};var Params={params:{},inited:false,init:function(){var prmstr=window.location.search.substr(1);if(prmstr!=null){var prmarr=prmstr.split("&");for(var i=0;i<prmarr.length;i++){var tmparr=prmarr[i].split("=");this.params[tmparr[0]]=tmparr[1];}}},get:function(name){if(!this.inited){this.init();this.inited=true;}
return this.params[name];},};Params.init();var Events={this.events={};this.on=function(eventName,callback){if(!this.events[eventName])
this.events[eventName]=[];this.events[eventName].push(callback);}
this.fire=function(eventName,args){if(!this.events[eventName])
this.events[eventName]=[];for(var event of this.events[eventName])
event.apply(args);}};function estimation(num){if(num>999)
return(num/1000).toFixed(1)+'k';else if(num>999999)
return(num/1000000).toFixed(1)+'M';return String(num);}
function formatNumber(x){return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");};function convertToRoman(num){var decimalValue=[1000,900,500,400,100,90,50,40,10,9,5,4,1];var romanNumeral=['M','CM','D','CD','C','XC','L','XL','X','IX','V','IV','I'];var romanized='';for(var index=0;index<decimalValue.length;index++){while(decimalValue[index]<=num){romanized+=romanNumeral[index];num-=decimalValue[index];}}
return romanized;}
function ordinalSuffix(i){var j=i%10,k=i%100;if(j==1&&k!=11)return i+"st";else if(j==2&&k!=12)return i+"nd";else if(j==3&&k!=13)return i+"rd";return i+"th";}
function toHourFormat(stamp){var sec_num=parseInt(stamp,10);var hours=Math.floor(sec_num/3600);var minutes=Math.floor((sec_num-(hours*3600))/60);var seconds=sec_num-(hours*3600)-(minutes*60);if(hours<10){hours="0"+hours;}
if(minutes<10){minutes="0"+minutes;}
if(seconds<10){seconds="0"+seconds;}
return hours+':'+minutes+':'+seconds;}
function gps2merc(lon,lat){if(!lat){var lat=lon[1];lon=lon[0];}
return ol.proj.transform([lon,lat],'EPSG:4326','EPSG:3857');}
function merc2gps(lon,lat){if(!lat){var lat=lon[1];lon=lon[0];}
return ol.proj.transform([lon,lat],'EPSG:3857','EPSG:4326');}
function time(){return Math.floor((new Date()).getTime()/1000);}
function*range(min,max){for(var i=min;i<max;i++)yield i;}
function sumDict(dict){var sum=0;for(var key in dict){sum+=dict[key];}
return sum;}
function addDicts(obj1,obj2){var obj={}
Object.keys(obj1).map(function(a){obj[a]=obj1[a]+obj2[a];});return obj;}
function SRNG(seed){this.m=0x80000000;this.a=1103515245;this.c=12345;this.state=seed?seed:Math.floor(Math.random()*(this.m-1));}
SRNG.prototype.nextInt=function(){this.state=(this.a*this.state+this.c)%this.m;return this.state;}
SRNG.prototype.random=function(){return this.nextInt()/(this.m-1);}
SRNG.prototype.nextRange=function(start,end){var rangeSize=end-start;var randomUnder1=this.nextInt()/this.m;return start+Math.floor(randomUnder1*rangeSize);}
SRNG.prototype.choice=function(array){return array[this.nextRange(0,array.length)];}
function Vector(x,y){if(typeof x==="number"){this.x=x||0;this.y=y||0;}else if(typeof y==="undefined"){this.x=x[0];this.y=x[1];}}
Vector.prototype={neg:function(){var v=this.clone();vx=-v.x;v.y=-v.y;return v;},add:function(c){var v=this.clone();if(c instanceof Vector){v.x+=c.x;v.y+=c.y;}else{v.x+=c;v.y+=c;}
return v;},sub:function(c){var v=this.clone();if(c instanceof Vector){v.x-=c.x;v.y-=c.y;}else{v.x-=c;v.y-=c;}
return v;},mul:function(c){var v=this.clone();if(c instanceof Vector){v.x*=c.x;v.y*=c.y;}else{v.x*=c;v.y*=c;}
return v;},div:function(c){var v=this.clone();if(c instanceof Vector){if(v.x!=0)v.x/=c.x;if(v.y!=0)v.y/=c.y;}else{if(v!=0){v.x/=c;v.y/=c;}}
return v;},equals:function(c){var v=this.clone();return v.x==c.x&&v.y==c.y;},dot:function(c){var v=this.clone();return v.x*v.x+v.y*v.y;},cross:function(c){var v=this.clone();return v.x*v.y-v.y*v.x},length:function(){var v=this.clone();return Math.sqrt(v.dot(this));},norm:function(){var v=this.clone();return v.div(v.length());},dist:function(v){return this.sub(v).length();},min:function(){var v=this.clone();return Math.min(v.x,v.y);},max:function(){var v=this.clone();return Math.max(v.x,v.y);},toAngles:function(){var v=this.clone();return-Math.atan2(-v.y,v.x);},angleTo:function(a){var v=this.clone();return Math.acos(v.dot(a)/(v.length()*a.length()));},dd:function(){console.log(this.x+","+this.y);},clone:function(){return new Vector(this.x,this.y);},arr:function(){return[this.x,this.y];},set:function(x,y){var v=this.clone();v.x=x;v.y=y;return v;},};